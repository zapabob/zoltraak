# Zoltraakの使い方

## インストール
1. Zoltraakをインストール
   ```sh
   pip install --upgrade zoltraak
   ```

   - [インストールの詳細はこちら](docs/installation.md)

## 設定と準備


1. 使い方
   1. `.env` ファイルに以下の環境変数を設定します。
      ```
      ANTHROPIC_API_KEY={Anthropicのキー}
      ```
   2. 以下のコマンドでZoltraakをインストールします。
      ```
      pip install zoltraak
      ```
   3. 以下のコマンドを実行し、プロンプトを入力します。
      ```
      zoltraak "最新の大規模言語モデルが学べるポケモンゲームの様なシステムを作りたい" -c dev_obj
      ```

   これにより、入力したプロンプトに基づいた要件定義書が生成されます。生成された要件定義書は叩き台となるため、必要に応じて内容を修正・拡充してください。

2. プロンプトコンパイラ（起動式）の指定
   `-c` オプション以降は用途に応じて変更できるプロンプトコンパイラ（起動式）を指定します。

   | コンパイラ名 | 説明 |
   | --- | --- |
   | dev_func | 関数型プログラミングを用いた開発タスクに関する要件定義書を生成するコンパイラ |
   | dev_obj | オブジェクト指向設計を用いた開発タスクに関する要件定義書を生成するコンパイラ |
   | biz_consult | ビジネスコンサルティングに関するドキュメントを生成するコンパイラ |
   | general_def | 一般的な開発タスクに関する要件定義書を生成するコンパイラ |
   | general_reqdef | 一般的な要求事項に関する要件定義書を生成するコンパイラ |
   | dev_react_fastapi | React + FastAPIを用いた開発タスクに関する要件定義書を生成するコンパイラ |

3. 具体例
   ```sh
   zoltraak "Manimを用いて、MoE（専門家の混合）モデルを視覚化するプログラムを開発する" -c dev_func
   zoltraak "今月中にオブジェクト指向設計を用いて、多機能在庫管理システムを開発する" -c dev_obj 
   zoltraak "今月中に中小企業向けのビジネスコンサルティングドキュメントを作成する。具体的には、マーケティング戦略、財務管理、人材育成に関するアドバイスを含む" -c biz_consult
   zoltraak "今月中に教育用の拡張現実（AR）アプリケーションを開発する" -c general_def
   zoltraak "今月中に政府向けの少子化対策として、具体的な施策と予算案を含む提言書を執筆する" -c general_reqdef
   ```




2. `test_dev_obj.md`というファイルを作成し、後続スレッドの内容をコピーして貼り付けてください。このファイルをzoltraakを実行するディレクトリと同じ階層に配置します。

3. `test_dev_obj.md`を以下のルールに従って自分の定義書生成プログラムに書き換えましょう:
   - `{prompt}`は zoltraakの後のプロンプト（呪文）が入るので消さないでください。
   - `## 2. ファイル・フォルダ構成`も消さないでください。
   - それ以外は自由に変更可能です。

4. 以下のコマンドを実行して、自作コンパイラを使用します:
   ```sh
   zoltraak プロンプト -cc 自作コンパイラ
   zoltraak "コーヒーショップ顧客管理システムを作りたい" -cc test_dev_obj.md
   ```

5. `zoltraak requirements/~~~.md`が貼り付けできるようになっているはずなので実行してください。

6. ディレクトリが構築されます。Cursor、VSCodeにてopenコマンドが起動しない方は以下を参照してください:
   https://note.com/88gram/n/n4ead3a677b83

注意: 全てClaude3 Haikuにより実行されています（一回あたり約1円の料金がかかります。ご自身で確認ください）。


```
zoltraak book.md -p "本を書きたい"
```

ファイル作成後は以下のように何度でも書き換えることができる。
```
zoltraak book.md -p "もっと分量増やしたい"
```

```sh
# RAGに突っ込むファイル群を指定
zoltraak aaaa.md -f ./input.md （作成予定）
# 一括修正
zoltraak dir/*.md （作成予定）
```

![llmcomment.png](assets/images/llmcomment.png)
